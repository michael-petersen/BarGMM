### Bar+Bulge Mock

This mock file is the bar 'growth phase' snapshot from the cusp halo model of Petersen, Weinberg, Katz (2021)[^1], with a Plummer bulge added to it by hand (generated by PlummerPlus). This test demonstrates that injecting an additional component results in detection of a third component -- with the expected zero angular momentum centroids. We caution that the bulge is not self-consistent, and cannot be treated as connected to the bar model in any evolutionary way.

- To convert the bulge from PlummerPlus units, we assumed a cluster scale radius of 1 kpc and a scale velocity of 30 km/s. This implies a cluster mass of M = Rvir*(Vvir$^2$)/G = 2e8 Msun. We truncate the cluster at 2 kpc in order to determine if we will identify an erroneous component outside of this (we do not).
- To convert from virial units, we assume a virial radius of $r_{\rm vir}$=220 kpc, and a virial velocity of $v_{\rm vir}$=150 km/s. This corresponds to a frequency scale of omegafac = $v_{\rm vir}/r_{\rm vir}$= 150/220 = 0.68 (i.e. multiply the virial frequencies by this value), and an angular momentum scale of Lfac = $v_{\rm vir}\times r_{\rm vir} = 150\times220 = 3.3e5$ kpc km/s.
- The pattern speed of the model is 37.5 in virial units, or 25.5 km/s/kpc. This is modestly lower than estimates for the MW.
- To estimate bar membership, I took 10 snapshots on either side of the exact time and used the classification from PWK21 to provide an estimate from 0-20 of whether the orbit is a member of the bar. A reasonable threshold might be 10.  
- The bar was rotated by -12 degrees. This corresponds to an expected alpha fit of 78 degrees. We also expect then to see much larger x velocity dispersions compared to y velocity dispersions.
- The trapped component of the bar ends at approximately 3 kpc in physical units (though the apparent length of the bar is much longer, see Petersen, Weinberg, Katz [2023]).
- We cannot reliably classify any individual star (that is, we cannot provide a $p>0.8$ estimate for most stars). Instead, our validation asks how well we can recover the mean of the distributions.
- See discussion of the angular momentum estimates in the barmock directory.



[^1]: For internal consumption, this is snapshot 1000 from the run001 simulation.
